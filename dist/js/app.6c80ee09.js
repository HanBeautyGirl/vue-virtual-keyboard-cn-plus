(function(){var t={5035:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-input",{attrs:{placeholder:"请输入或选择",keyboard:"true","data-mode":"cn"},on:{focus:t.focusInput},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),e("el-select",{ref:"select",staticClass:"abcSelect",attrs:{placeholder:"请选择"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-select",{ref:"select",attrs:{placeholder:"请选择2"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("div",[e("div",[t._v(" 中文："),e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticStyle:{width:"400px",height:"25px","font-size":"20px"},attrs:{id:"abc",type:"text",keyboard:"true"},domProps:{value:t.value},on:{click:t.stopDefault,input:function(e){e.target.composing||(t.value=e.target.value)}}})]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._v(" 自动绑定到textarea"),e("textarea",{attrs:{type:"text",keyboard:"true"}}),e("div",[t._v(" 手动显示输入法"),e("textarea",{attrs:{type:"text"},on:{focus:t.focusInput2,blur:t.blurInput2}})]),e("div",[e("p",{attrs:{contenteditable:"",id:"elem"},on:{click:t.clickDiv,blur:t.blurInput2}},[t._v(" div手动显示输入法： 我是可以被编辑的div ")])]),t._m(7),e("div",{staticStyle:{height:"400px"}}),e("keyboard",{attrs:{transitionTime:"0.5s",maxQuantify:10,showKeyboard:t.showKeyboard,float:"",inputEvent:t.currentInput,manyDict:t.manyDict,singleDict:t.singleDict,blurHide:!1},on:{clickKey:t.clickKey,initResult:t.initFulfil,keyboardTips:t.keyboardTips,clickNumber:t.clickNumber}})],1)],1)},s=[function(){var t=this,e=t._self._c;return e("div",[t._v(" 英文大写："),e("input",{attrs:{type:"text","data-mode":"en_cap",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v("英文小写："),e("input",{attrs:{type:"text","data-mode":"en",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v("数字："),e("input",{attrs:{type:"text","data-mode":"num",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v(" 身份证："),e("input",{attrs:{type:"text","data-mode":"id_card",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v("浮点："),e("input",{attrs:{type:"text","data-mode":"di_git",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v(" 符号："),e("input",{attrs:{type:"text","data-mode":"biaodian",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v(" 密码键盘："),e("input",{attrs:{type:"text","data-mode":"password",keyboard:"true"}})])},function(){var t=this,e=t._self._c;return e("div",[t._v("不需要输入法"),e("input",{attrs:{type:"text"}})])}],o=(n(1703),n(9115)),r={name:"App",components:{keyboard:o["default"]},methods:{clickNumber(t){console.log("clickNumber",t)},keyboardTips(t){console.log("tips",t)},initFulfil(){this.loading.close()},clickDiv(t){console.log("点击",t.target.getAttribute("contenteditable")),t.mode="en_cap",this.currentInput=t,this.showKeyboard=!0},focusInput2(t){console.log("聚焦",t.target.getAttribute("contenteditable")),t.mode="en_cap",this.currentInput=t,this.showKeyboard=!0},blurInput2(){this.currentInput=null,this.showKeyboard=!1},stopDefault(){},clickKey(t){console.log("key",t)},bodyStopMousedown(t){t.stopImmediatePropagation()},cancelOrRecoveryBodyMousedown(t){const e=document.querySelector("body");let n={capture:!1};"cancel"===t?e.addEventListener("mousedown",this.bodyStopMousedown,n):e.removeEventListener("mousedown",this.bodyStopMousedown,n)},focusInput(){setTimeout((()=>{this.select.visible=!0}),300)}},mounted(){if(window.screen.width<700){const t=document.querySelectorAll("[keyboard='true']");for(let e of t)e.setAttribute("inputmode","none")}new Error("我是错误"),this.loading=this.$loading({lock:!0,text:"词库加载中。。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});let t=document.querySelector("#elem"),e=new MutationObserver((t=>{console.log(t)}));e.observe(t,{childList:!0,subtree:!0,characterDataOldValue:!0}),this.cancelOrRecoveryBodyMousedown("cancel"),this.select=this.$refs.select},data(){return{manyDict:"dict/chowder.json",singleDict:"dict/baseDict.json",currentInput:"",showKeyboard:!1,value:"",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value2:""}}},a=r,l=n(1001),c=(0,l.Z)(a,i,s,!1,null,null,null),u=c.exports},9115:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.transitionTime?"keyboardTransition":""}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["my-keyboard",t.equipmentType],style:{transition:`all ${t.transitionTime}`},on:{mousedown:t.mousedown}},["cn"===t.mode&&!t.showDiction&&t.cn_input?.length?e("div",{staticClass:"pinyin"},[e("div",[e("span",[t._v(t._s(t.cn_input))])])]):t._e(),"cn"===t.mode&&!t.showDiction&&t.cn_input?.length?e("div",{staticClass:"select-list",style:{height:t.cut_cn_list.length?"":"40px"}},[e("div",[e("div",{staticClass:"item_main"},t._l(t.cut_cn_list,(function(n,i){return e("span",{key:i,staticClass:"select-text",on:{click:function(e){return t.clickCN(e,n)}}},[t._v(t._s(i+1+"."+n))])})),0),"pc"===t.equipmentType?e("div",{staticClass:"page"},[e("p",{style:t.previousStyleFn,on:t._d({},[t.keyEvent,t.previous_page])},[e("fullTriangle")],1),e("p",{staticClass:"next",style:t.nextPageStyleFn,on:t._d({},[t.keyEvent,t.next_page])},[e("fullTriangle")],1)]):e("div",{staticClass:"page"},[e("p",{staticClass:"next",on:t._d({},[t.keyEvent,t.isShowDiction])},[e("fullTriangle")],1)])])]):t._e(),["id_card","di_git","biaodian","num"].includes(t.mode)?e("div",{class:["main-keyboard","biaodian"!=t.mode&&""===t.old_mode?"no_del_box":""]},[e("div",{class:["number-box",t.mode]},["biaodian"!=t.mode&&""===t.old_mode?e("div",{staticClass:"hide12key",on:{click:t.HideKey}},[e("svg",{attrs:{width:"40",height:"40",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M36 18L24 30L12 18",stroke:"rgb(141 141 141)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}})])]):t._e(),t._l(t.number_keys2,(function(n,i){return[i==t.number_keys2.length-1&&""==t.old_mode&&"biaodian"!==t.mode||""==n?t._e():e("span",{key:"key"+i,staticClass:"key number",class:{disabled_key:""===n},on:t._d({},[t.keyEvent,function(e){return t.clickNumber(e,n)}])},[t._v(t._s(n))])]})),"biaodian"!=t.mode&&""===t.old_mode?e("keyDel"):t._e()],2),"biaodian"===t.mode||""!=t.old_mode?e("div",{staticClass:"del-box"},[e("keyDel"),e("span",{staticClass:"key number",on:t._d({},[t.keyEvent,function(e){return t.cn_change("cn")}])},["noCn"!=t.mainMode?[t._v("中/")]:t._e(),t._v("英")],2),e("span",{staticClass:"key key_hide number",staticStyle:{"margin-left":"0px"},on:t._d({},[t.keyEvent,t.HideKey])},["pc"===t.equipmentType?e("svg",{staticClass:"jp",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M390.94044445 560.84859262h97.39377777V463.45481485H390.94044445v97.39377777zM560.24177778 317.81925929H463.75822222v97.39377778h97.39377778V317.81925929z m-145.63555556 0H318.12266667v97.39377778h97.39377778V317.81925929z m291.27111111 0H609.39377778v97.39377778h97.39377777V317.81925929zM536.576 560.84859262h97.39377778V463.45481485H536.576v97.39377777zM268.97066667 317.81925929H172.48711111v97.39377778h97.39377778V317.81925929z m486.05866666 97.39377778h97.39377778V317.81925929H755.02933333v97.39377778z m145.63555556-243.02933334H123.33511111c-53.70311111 0-97.39377778 43.69066667-97.39377778 97.39377778V754.72592595c0 53.70311111 43.69066667 97.39377778 97.39377778 97.39377778h776.41955556c53.70311111 0 97.39377778-43.69066667 97.39377778-97.39377778V269.57748151c0-53.70311111-43.69066667-97.39377778-96.48355556-97.39377778z m48.24177778 582.54222222c0 26.39644445-21.84533333 48.24177778-48.24177778 48.24177778H123.33511111c-26.39644445 0-48.24177778-21.84533333-48.24177778-48.24177778V269.57748151c0-26.39644445 21.84533333-48.24177778 48.24177778-48.24177778h776.41955556c26.39644445 0 48.24177778 21.84533333 48.24177778 48.24177778l0.91022222 485.14844444zM682.21155555 560.84859262h97.39377778V463.45481485H682.21155555v97.39377777z m-388.66488888 145.63555556h436.90666666V609.0903704H293.54666667v97.39377778zM341.78844445 463.45481485H245.30488889v97.39377777h97.39377778V463.45481485z"}})]):t._e(),e("span",[t._v(" "+t._s("pc"===t.equipmentType?"隐藏":"隐藏键盘")+" "),"pc"===t.equipmentType?[e("br"),e("i",{staticStyle:{display:"block",transform:"scaleX(2)"}},[t._v("v")])]:t._e()],2)]),e("span",{staticClass:"key number",on:t._d({},[t.keyEvent,function(e){return t.Fanhui()}])},[t._v("返回")])],1):t._e()]):t._e(),["cn","en_cap","en","password"].includes(t.mode)&&!t.showDiction?e("div",{staticClass:"main-keyboard"},["pc"===t.equipmentType?[t._l(t.number_keys,(function(n,i){return e("span",{key:i+50,staticClass:"key",on:t._d({},[t.keyEvent,function(e){return t.clickNumber(e,n)}])},[t._v(t._s(n))])})),e("br")]:t._e(),t._l(t.letter_keys.slice(0,10),(function(n,i){return e("span",{key:i+11,staticClass:"key letter",on:t._d({},[t.keyEvent,function(e){return t.clickKey(e,n)}])},[t._v(t._s(n))])})),e("br"),t._l(t.letter_keys.slice(10,19),(function(n,i){return e("span",{key:i+21,staticClass:"key letter",on:t._d({},[t.keyEvent,function(e){return t.clickKey(e,n)}])},[t._v(t._s(n))])})),e("br"),"cn"===t.mode&&"password"!=t.mode?e("span",{staticClass:"key blue",on:t._d({},[t.keyEvent,function(e){return t.cn_change("en")}])},[t._v(" 中 / "),e("i",{staticClass:"blue_default"},[t._v("英")])]):e("span",{staticClass:"key blue",on:t._d({},[t.keyEvent,function(e){return t.cn_change("cn")}])},[t._v(" 英"),"noCn"!=t.mainMode?[t._v(" / "),e("i",{staticClass:"blue_default"},[t._v("中")])]:t._e()],2),t._l(t.letter_keys.slice(19,26),(function(n,i){return e("span",{key:i+31,staticClass:"key letter",on:t._d({},[t.keyEvent,function(e){return t.clickKey(e,n)}])},[t._v(t._s(n))])})),e("keyDel"),e("br"),e("span",{staticClass:"key key_hide",staticStyle:{width:"140px","margin-left":"10px"},on:t._d({},[t.keyEvent,t.HideKey])},["pc"===t.equipmentType?e("svg",{staticClass:"jp",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M390.94044445 560.84859262h97.39377777V463.45481485H390.94044445v97.39377777zM560.24177778 317.81925929H463.75822222v97.39377778h97.39377778V317.81925929z m-145.63555556 0H318.12266667v97.39377778h97.39377778V317.81925929z m291.27111111 0H609.39377778v97.39377778h97.39377777V317.81925929zM536.576 560.84859262h97.39377778V463.45481485H536.576v97.39377777zM268.97066667 317.81925929H172.48711111v97.39377778h97.39377778V317.81925929z m486.05866666 97.39377778h97.39377778V317.81925929H755.02933333v97.39377778z m145.63555556-243.02933334H123.33511111c-53.70311111 0-97.39377778 43.69066667-97.39377778 97.39377778V754.72592595c0 53.70311111 43.69066667 97.39377778 97.39377778 97.39377778h776.41955556c53.70311111 0 97.39377778-43.69066667 97.39377778-97.39377778V269.57748151c0-53.70311111-43.69066667-97.39377778-96.48355556-97.39377778z m48.24177778 582.54222222c0 26.39644445-21.84533333 48.24177778-48.24177778 48.24177778H123.33511111c-26.39644445 0-48.24177778-21.84533333-48.24177778-48.24177778V269.57748151c0-26.39644445 21.84533333-48.24177778 48.24177778-48.24177778h776.41955556c26.39644445 0 48.24177778 21.84533333 48.24177778 48.24177778l0.91022222 485.14844444zM682.21155555 560.84859262h97.39377778V463.45481485H682.21155555v97.39377777z m-388.66488888 145.63555556h436.90666666V609.0903704H293.54666667v97.39377778zM341.78844445 463.45481485H245.30488889v97.39377777h97.39377778V463.45481485z"}})]):t._e(),e("span",[t._v(" "+t._s("pc"===t.equipmentType?"隐藏":"隐藏键盘")+" "),"pc"===t.equipmentType?[e("br"),e("i",{staticStyle:{display:"block",transform:"scaleX(2)"}},[t._v("v")])]:t._e()],2)]),"en_cap"===t.mode?e("span",{staticClass:"key blue case",on:t._d({},[t.keyEvent,function(e){return t.cap_change()}])},[t._v(" "+t._s("pc"===t.equipmentType?"已锁定大写":"大写")+" ")]):e("span",{staticClass:"key blue case",on:t._d({},[t.keyEvent,function(e){return t.cap_change()}])},[t._v(t._s("pc"===t.equipmentType?"切换大写":"小写"))]),e("span",{staticClass:"key space",on:t._d({},[t.keyEvent,function(e){return t.clickKey(e," ",!0)}])},[t._v("空格")]),e("span",{staticClass:"key blue",on:t._d({},[t.keyEvent,()=>this.mode="biaodian"])},[t._v("符号")]),e("span",{staticClass:"key blue",on:t._d({},[t.keyEvent,()=>this.mode="num"])},[t._v("数字")])],2):t._e(),"cn"===t.mode&&t.showDiction?e("div",{staticClass:"main-keyboard"},[e("div",{staticClass:"number-box select_cn"},[e("div",{staticClass:"select_cn_main"},t._l(t.cn_list_str,(function(n,i){return e("span",{key:i,staticClass:"item",on:{click:function(e){return t.clickCN(e,n)}}},[t._v(" "+t._s(n)+" ")])})),0)]),e("div",{staticClass:"del-box"},[e("keyDel"),e("span",{staticClass:"key number blue",staticStyle:{"font-size":"36px"},on:t._d({},[t.keyEvent,function(e){return t.Fanhui()}])},[t._v("返回")]),e("span",{staticClass:"key key_hide number",staticStyle:{"margin-left":"0px"},on:t._d({},[t.keyEvent,t.HideKey])},["pc"===t.equipmentType?e("svg",{staticClass:"jp",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M390.94044445 560.84859262h97.39377777V463.45481485H390.94044445v97.39377777zM560.24177778 317.81925929H463.75822222v97.39377778h97.39377778V317.81925929z m-145.63555556 0H318.12266667v97.39377778h97.39377778V317.81925929z m291.27111111 0H609.39377778v97.39377778h97.39377777V317.81925929zM536.576 560.84859262h97.39377778V463.45481485H536.576v97.39377777zM268.97066667 317.81925929H172.48711111v97.39377778h97.39377778V317.81925929z m486.05866666 97.39377778h97.39377778V317.81925929H755.02933333v97.39377778z m145.63555556-243.02933334H123.33511111c-53.70311111 0-97.39377778 43.69066667-97.39377778 97.39377778V754.72592595c0 53.70311111 43.69066667 97.39377778 97.39377778 97.39377778h776.41955556c53.70311111 0 97.39377778-43.69066667 97.39377778-97.39377778V269.57748151c0-53.70311111-43.69066667-97.39377778-96.48355556-97.39377778z m48.24177778 582.54222222c0 26.39644445-21.84533333 48.24177778-48.24177778 48.24177778H123.33511111c-26.39644445 0-48.24177778-21.84533333-48.24177778-48.24177778V269.57748151c0-26.39644445 21.84533333-48.24177778 48.24177778-48.24177778h776.41955556c26.39644445 0 48.24177778 21.84533333 48.24177778 48.24177778l0.91022222 485.14844444zM682.21155555 560.84859262h97.39377778V463.45481485H682.21155555v97.39377777z m-388.66488888 145.63555556h436.90666666V609.0903704H293.54666667v97.39377778zM341.78844445 463.45481485H245.30488889v97.39377777h97.39377778V463.45481485z"}})]):t._e(),e("span",[t._v(" "+t._s("pc"===t.equipmentType?"隐藏":"隐藏键盘")+" "),"pc"===t.equipmentType?[e("br"),e("i",{staticStyle:{display:"block",transform:"scaleX(2)"}},[t._v("v")])]:t._e()],2)]),e("span",{staticClass:"key number blue",staticStyle:{"font-size":"36px",visibility:"hidden"}},[t._v("英文")])],1)]):t._e()])])},s=[],o=(n(7658),n(579));let r={},a={},l={};var c={created(){window.screen.width<this.screen&&(this.equipmentType="phone");let t=[];if(this.singleDict){const e=n(5323)("./"+this.singleDict).then((t=>{r=t,Object.freeze(r)}));t.push(e)}if(this.manyDict){const e=n(5323)("./"+this.manyDict).then((t=>{a=t,Object.freeze(a)}));t.push(e)}Promise.all(t).then((()=>{this.$emit("initResult","success")})).catch((t=>{console.error("词库错误",t),this.$emit("initResult","fail")}))},mounted(){this.$nextTick((()=>{this.inputBindKeyboard()}))},components:{keyDel:{data(){return{interval:null,isIntervalDel:!1}},methods:{touchstartDel(t){t.preventDefault(),this.interval||(t.currentTarget.style.background="#d0d0d0",this.interval=setInterval((()=>{this.isIntervalDel=!0,this.$parent.del(t)}),100))},touchendDel(t){t.preventDefault(),this.interval=clearInterval(this.interval),this.isIntervalDel||this.$parent.del(t),t.currentTarget.style.background="#fff",this.isIntervalDel=!1}},render(){const t=arguments[0];let e=this.$parent.$data,n=e.def_mode,i="key def-del",s="50",o="50";return["cn","en_cap","en","password"].includes(n)&&!e.showDiction||(i="key number num-del",s="65",o="65",e.showDiction&&(s="75",o="75")),t("span",{class:i,on:{touchend:this.touchendDel,touchstart:this.touchstartDel,mouseup:this.touchendDel,mousedown:this.touchstartDel}},[t("svg",{attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:s,height:o}},[t("path",{attrs:{d:"M938.8 227.7H284.6L0.1 511.3l284.4 284.4v0.8h654.2c47.1 0 85.3-38.2 85.3-85.3V313c0.1-47.1-38.1-85.3-85.2-85.3z m-172.1 385l-40.2 40.2-100.6-100.6-100.6 100.6-40.2-40.2 100.6-100.6-100.6-100.5 40.2-40.2L625.9 472l100.6-100.6 40.2 40.2-100.6 100.5 100.6 100.6z"}})])])}},fullTriangle:{functional:!0,render(){const t=arguments[0];return t("svg",{attrs:{width:"14",height:"14",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.2692 6.98965C23.0395 5.65908 24.9605 5.65908 25.7309 6.98965L44.262 38.9979C45.0339 40.3313 44.0718 42 42.5311 42H5.4689C3.92823 42 2.96611 40.3313 3.73804 38.9979L22.2692 6.98965Z",fill:"#fff",stroke:"#fff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}})])}}},props:{manyDict:{type:String,default:""},singleDict:{type:String,default:""},screen:{type:Number,default:700},blurHide:{type:Boolean,default:!0},EnterActiveClass:{type:String,default:"fadeInUp"},LeaveActiveClass:{type:String,default:"fadeOutDown"},showKeyboard:{type:Boolean,default:!1},maxQuantify:{type:Number,default:10},transitionTime:{type:String,default:"0.3s"},keyUpClass:{type:String,default:"keyUp"},keyDownClass:{type:String,default:"keyDown"},inputEvent:null},data(){return{show:this.showKeyboard,showDiction:!1,equipmentType:"pc",input_top:0,def_mode:"cn",old_mode:"",mainMode:"",cn_input:"",cn_list_str:[],l_min:0,l_max:this.maxQuantify,cursorPosition:-1}},watch:{inputEvent:function(t){const e=this.showKeyboard;let n=!1;t&&t.target&&e&&(l=t.target,this.mode=t.mode||"cn",n=!0,this.getCaretPosition(t.target)),this.show=n},show:function(t){t||(this.showDiction=!1),this.$emit("changeShow",t)},showDiction:function(){this.initKeyColor()}},computed:{number_keys(){let t=o["default"].number||[];return t.filter((t=>!isNaN(Number(t))))},keyEvent(){const t=this.equipmentType;let e="mousedown";return("phone"===t||"ontouchstart"in document.documentElement)&&(e="touchstart"),e},previousStyleFn(){let t={background:"#a7a7a7"};const e=this.l_min;return e>0&&(t.background="#344a5d"),t},nextPageStyleFn(){let t={background:"#a7a7a7"};const e=this.cn_list_str||[],n=this.l_max;return e.length>n&&(t.background="#344a5d"),t},number_keys2(){let t=o["default"].number,e=o["default"].biaodian,n=t;return["num","id_card","di_git"].includes(this.mode)?this.old_mode||(n=t.map((t=>["X","."].includes(t)&&"num"===this.mode||["."].includes(t)&&"id_card"===this.mode?"":["X","."].includes(t)&&"di_git"===this.mode?"."===t?"":".":t))):n=e,n},letter_keys(){return"en_cap"===this.mode?o["default"].cap_letter:o["default"].letter},cut_cn_list(){if(this.cn_list_str){const t=this.equipmentType;let e=this.cn_list_str.slice(this.l_min,this.l_max);return"phone"===t&&(e=this.cn_list_str),e}return[]},mode:{get(){return this.def_mode},set(t){"{}"===JSON.stringify(r)&&(["cn","password"].includes(t)&&(t="password"),this.mainMode="noCn"),["password"].includes(t)&&(this.mainMode="noCn"),this.old_mode=this.def_mode,this.def_mode=t,"cn"!=t&&(this.cn_list_str=[],this.cn_input=""),this.initKeyColor(),this.showDiction=!1,this.$emit("changeMode",t)}}},methods:{initKeyColor(){this.$nextTick((()=>{let t=document.querySelectorAll(".my-keyboard .key:not([bindtouchendAndmouseup])"),e=function(t){Array.from(t.currentTarget.classList).includes("key_hide")||(t.currentTarget.style.background="#fff")};for(let n of t)n.setAttribute("bindtouchendAndmouseup","true"),n.addEventListener("touchend",e),n.addEventListener("touchmove",e),n.addEventListener("mouseup",e),n.addEventListener("mousemove",e)}))},isShowDiction(t){t.preventDefault(),this.showDiction=!0},showNumberKey(t){console.log("key",t);const e=this.def_mode;return"num"===e&&[".","X"].includes(t)&&(t=""),t},inputBindKeyboard(){const t=this;this.$nextTick((()=>{const e=document.querySelectorAll("[keyboard='true']:not([bindkeyboard])");e.forEach((e=>{e.setAttribute("bindkeyboard","true"),e.addEventListener("focus",t.showKeyBoardFn),e.addEventListener("click",(()=>{setTimeout((()=>{}),100)})),t.blurHide&&e.addEventListener("blur",(()=>{t.show=!1}))}))}))},setInputValue(t,e="set"){let n=l.selectionStart,i=l.tagName,s=!!l.getAttribute("contenteditable"),o=l.value;if(s&&(n=this.getCaretPosition(l),o=l.innerText),"del"===e){if(n>0){let t=l.selectionEnd;t!=n&&"INPUT "===i?o=o?.split("")?.filter(((e,i)=>{if(i<n||i>=t)return e}))?.join(""):(o=this.delStringLast(o,n),n-=1)}}else o=this.insertString(o,t,n),t.charCodeAt(t)>127||t.charCodeAt(t)>94?n+=t.length:n+=1;if(s){l.innerText=o;let t=document.createRange(),e=window.getSelection();t.setStart(l.childNodes[0],n),t.collapse(!0),e.removeAllRanges(),e.addRange(t),this.$emit("contenteditableInput",l.innerText)}else l.value=o,l.selectionStart=n,l.selectionEnd=n,l.dispatchEvent(new Event("input",{bubbles:!0}))},getCaretPosition(t){let e,n,i=0;return window.getSelection&&(e=window.getSelection(),e.rangeCount&&(n=e.getRangeAt(0),n.commonAncestorContainer.parentNode==t&&(i=n.endOffset,n.commonAncestorContainer.length!=n.commonAncestorContainer.data.trim().length&&(i-=1)))),this.cursorPosition=i,i},showKeyBoardFn(t){this.mainMode="";const e=this.showKeyboard;e||(l=t.target,this.show=!0,this.mode=t.target.dataset.mode||"cn",this.old_mode="")},HideKey(){this.show=!1,l.blur()},mousedown(t){t.preventDefault()},clickKey(t,e,n){if(t.preventDefault(),t.stopImmediatePropagation(),t.target.style.background="#d0d0d0",l===document.activeElement){if("cn"!==this.mode||n)this.setInputValue(e);else{this.cn_input+=e;const t=["u","v","i"].includes(this.cn_input.split("")[0]);if(t){if(this.cn_list_str.length){const t=this.cn_list_str[0]+e;this.$set(this.cn_list_str,0,t)}else this.cn_list_str=[e];return}this.findChinese("add",e)}this.$emit("clickKey",e)}},mergeChinese(t){let e=[];t.reduce(((t,n)=>{if(!t.length)return n;for(let i=0;i<t.length;i++){let s=t[i]||"",o=n[i]||"";t[i]=s+o,t.length-1===i&&e.push(n.slice(i+1))}return t}),[]);const n=t.flat(2);return n},clickNumber(t,e){if((o["default"].number.find((t=>t===e))||"biaodian"==this.def_mode)&&l===document.activeElement){if(t.preventDefault(),t.target.style.background="#d0d0d0","cn"===this.mode&&""!==this.cn_input){let t=this.cut_cn_list[parseInt(e)-1];if(!t)return;this.selectCN(t),this.setInputValue(t)}else this.setInputValue(e);this.$emit("clickNumber",e)}},selectCN(t){let e=this.cn_input.split("'");if(1===e.length||t.length>=e.length)return this.cn_input="",this.cn_list_str=[],this.l_min=0,void(this.l_max=this.maxQuantify);this.setCn_input(t)},setCn_input(t){let e=this.cn_input;const n=r;let i=[];for(let r in n){let e=n[r];if("string"===typeof e){let n=e.split(""),s=n.find((e=>e===t));s&&i.push(r)}}let s="";const o=e.split("'");for(let r=0;r<o.length;r++){let t=o[r];for(let e of i){let n=e.split(""),i=0;for(let o=0;o<n.length;o++)e.charAt(o)===t.charAt(o)&&(i+=1,0===o&&t.length!=e.length&&e.length>t.length&&(s=t)),i===n.length&&(s=t)}}this.cn_input=o.filter((t=>t!=s)).join("'"),this.findChinese()},clickCN(t,e){t.preventDefault(),t.stopImmediatePropagation(),this.showDiction=!1,this.setInputValue(e),this.selectCN(e),this.$emit("clickCN",e)},findChinese(t,e){this.l_min=0,this.l_max=this.maxQuantify;const n=this.cn_input.split("'");let i=n[n.length-1],s=new RegExp(`^${i}\\w*`),o=Object.keys(r).filter((t=>{let e=i.split("");const n=["h","o","n","a","e"].includes(e[e.length-1]);if(!(i.length>=2)||n){let e=s.test(t);return e}if(t===i)return!0})).sort();this.cn_list_str=o.length>1?o.reduce(((t,e)=>t+r[e]),""):r[o[0]],this.cn_list_str&&(this.cn_list_str.length||"del"!==t)||(this.cn_input=this.cn_input.replace(new RegExp(`(.*)${e}`),`$1'${e}`)),this.cn_list_str||Array.isArray(this.cn_list_str)||(this.cn_list_str=[]),o=this.cn_input.split("'"),o.length>=2&&(this.cn_list_str=[],this.findDoubleSpell())},findDoubleSpell(){let t=this.cn_input,e=t.split("'");const n=a[t.charAt(0)];if(!n)return;if(["an"].includes(e[e.length-1])){let n=e[e.length-2];if(["n"].includes(n.charAt(n.length-1))){let i=n.slice(0,n.length-1);e=[i,n.slice(n.length-1)+e[e.length-1]],t=e.join("'"),this.cn_input=t}}let i=Object.keys(n).filter((e=>{const i=e.split("'"),s=t.split("'"),o=s.length===i.length;if(!o)return;let r=!0;for(let t=0;t<i.length;t++)if(i[t].charAt(0)!=s[t].charAt(0))r=!1;else{const e=i[t].split(""),n=s[t].split("");for(let t=0;t<n.length;t++){if(!n[t])break;e[t]!=n[t]&&(r=!1)}}return r&&o?n[e]:void 0})),s=[],o=[];const l=r;for(let r of i){let t=r.split("'");s.push(n[r].split(","));for(let e of t)l[e]&&o.push(l[e].split(""))}if(!i.length&&e.length)for(let r of e)l[r]&&o.push(l[r].split(""));o=Array.from(new Set(o.flat(2))),s=s.flat(2).sort(((t,e)=>{if(e.length>t.length)return-1})).reverse(),this.cn_list_str=s.concat(o)},del(t){if(t.stopImmediatePropagation(),t.preventDefault(),l!==document.activeElement)return;const e=this.showDiction;if("cn"!==this.mode||""===this.cn_input||e)this.setInputValue(null,"del");else{if(this.cn_input=this.delStringLast(this.cn_input,this.cn_input.length),""===this.cn_input)return void(this.cn_list_str=[]);const t=["u","v","i"].includes(this.cn_input.split("")[0]);if(this.cn_list_str&&1===this.cn_list_str.length&&t)return void(this.cn_list_str=[this.cn_input]);let e=new RegExp(`^${this.cn_input}\\w*`),n=Object.keys(r).filter((t=>{const n=e.test(t);return n})).sort();this.cn_list_str=(n.length>1?n.reduce(((t,e)=>t+r[e]),""):r[n[0]])||"".split(""),this.findChinese("del"),this.$emit("del",JSON.parse(JSON.stringify(this.cn_input)))}},insertString(t,e,n){let i=t.split("");return i.splice(n,0,e),i.join("")},delStringLast(t,e){if(e<0)return;let n=t.split("");e>0?n[e-1]="":n[e]="",n=n.filter((t=>t));const i=n.length-1;"'"===n[i]&&(n[i]="");let s=n.join("");return s},cap_change(){"noCn"!==this.mainMode?this.mode="en_cap"===this.mode?"en":"en_cap":this.mode="en_cap"===this.mode?"password":"en_cap"},cn_change(t){"noCn"===this.mainMode?this.mode="en"===t?"cn":"en":this.mode=t,this.cn_input="",this.cn_list_str=[]},Fanhui(){this.showDiction?this.showDiction=!1:!["num","biaodian"].includes(this.old_mode)&&this.old_mode?this.mode=this.old_mode:this.mode="cn"},previous_page(t){t.preventDefault(),t.stopImmediatePropagation(),this.l_min>0&&(this.l_min=this.l_min-this.maxQuantify,this.l_max=this.l_max-this.maxQuantify)},next_page(t){t.preventDefault(),t.stopImmediatePropagation(),this.cn_list_str.length>this.l_max&&(this.l_min+=this.maxQuantify,this.l_max+=this.maxQuantify)}}},u=c,d=n(1001),h=(0,d.Z)(u,i,s,!1,null,"116e09e9",null),p=h.exports},9204:function(t,e,n){"use strict";n.r(e);var i=n(9115);const s={install(t){t.component("vue-virtual-keyboard-cn",i["default"])}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(s),e["default"]=s},579:function(t,e,n){"use strict";n.r(e),e["default"]={number:["1","2","3","4","5","6","7","8","9","X","0","."],biaodian:["@","#","$","￥","%","*","(",")","/",".","-",","],letter:["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"],cap_letter:["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"]}},6293:function(t,e,n){"use strict";n.r(e);var i=n(144),s=n(5035),o=n(4720),r=n.n(o),a=n(9204);i["default"].config.productionTip=!1,i["default"].use(a["default"]),i["default"].use(r()),new i["default"]({render:t=>t(s["default"])}).$mount("#app")},5323:function(t,e,n){var i={"./App":[5035,9],"./App.vue":[5035,9],"./assets/logo.png":[6949,1,949],"./components/keyboard":[9204,9],"./components/keyboard/":[9204,9],"./components/keyboard/index":[9204,9],"./components/keyboard/index.js":[9204,9],"./components/keyboard/index.worker":[3184,7,184],"./components/keyboard/index.worker.js":[3184,7,184],"./components/keyboard/key":[579,9],"./components/keyboard/key.js":[579,9],"./components/keyboard/keyboardIndex":[9115,9],"./components/keyboard/keyboardIndex.vue":[9115,9],"./components/keyboard/package":[376,3,376],"./components/keyboard/package.json":[376,3,376],"./data":[2737,9,737],"./data.js":[2737,9,737],"./dict/address":[7561,3,561],"./dict/address.json":[7561,3,561],"./dict/baseDict":[5184,3,651],"./dict/baseDict.json":[5184,3,651],"./dict/chowder":[1976,3,976],"./dict/chowder.json":[1976,3,976],"./main":[6293,9],"./main.js":[6293,9]};function s(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],s=e[0];return Promise.all(e.slice(2).map(n.e)).then((function(){return n.t(s,16|e[1])}))}s.keys=function(){return Object.keys(i)},s.id=5323,t.exports=s}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,o){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],o=t[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(a=!1,o<r&&(r=o));if(a){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,s,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var r={};t=t||[null,e({}),e([]),e(e)];for(var a=2&s&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){r[t]=function(){return i[t]}}));return r["default"]=function(){return i},n.d(o,r),o}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{184:"63b4ac07",376:"ee6f1ff4",561:"ace7337f",651:"82505159",737:"4339c7e6",949:"ac5c6361",976:"78d731d9"}[t]+".js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-virtual-keyboard-cn:";n.l=function(i,s,o,r){if(t[i])t[i].push(s);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+o){a=d;break}}a||(l=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+o),a.src=i),t[i]=[s];var h=function(e,n){a.onerror=a.onload=null,clearTimeout(p);var s=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t={143:0};n.f.j=function(e,i){var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else{var o=new Promise((function(n,i){s=t[e]=[n,i]}));i.push(s[2]=o);var r=n.p+n.u(e),a=new Error,l=function(i){if(n.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,s[1](a)}};n.l(r,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,o,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)var u=l(n)}for(e&&e(i);c<r.length;c++)o=r[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},i=self["webpackChunkvue_virtual_keyboard_cn"]=self["webpackChunkvue_virtual_keyboard_cn"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6293)}));i=n.O(i)})();
//# sourceMappingURL=app.6c80ee09.js.map